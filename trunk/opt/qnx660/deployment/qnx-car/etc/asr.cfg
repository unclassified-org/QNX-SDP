asr-config {
	# AUDIO LOGS
	# 
	# to capture audio logs, utterences issued during a speech session, initiate a recognition session with the "audio_log_dir" 
	# modifier set.
	# ex. echo strobe::on?audio_log_dir = <dir> >>/pps/services/asr
	# each utterence recorded during the speech session will be logged to the specified directory
	# 
	# to recognize against previously captured audio logs, initiate a recognition session with the audio_source_dir modifier
	# echo "strobe::on?audio_source_dir = <dir>" >>/pps/services/asr
	# if audio_source_dir is set the previously captured audio will be used, one file per recognition attempt, 
	# till the recognition session ends. 

	# PROMPT LOGS
	#
	# to capture the audio generated from in session tts prompts, set the prompt-log-dir propterty to the desired location for the logs
	# the promps will be stored in .wav format. Usefull for converting tts prompts to canned .wav prompts to avoid tts audio gen latencies.
	# all prompts for all sessions are logged to the same dir with incrementing id's.
	# prompt-log-dir = /tmp/prompt_logs
	
	locale = en-US
	base-dir = /usr/asr
	conv-dir = $(base-dir)/conversation
	prompt-dir = $(base-dir)/prompt
	rec-dir = $(base-dir)/recognition
	help-dir   = $(conv-dir)/\$(locale)/help
	sounds-dir = $(conv-dir)/sounds
	app-sounds = /usr/share/sounds/voice_app_sounds
	localized-sounds-dir = $(conv-dir)/\$(locale)/sounds
	
	# transient-ui... 1 == hide voice ui on session end, 0 == leave voice ui open
	transient-ui = 0

	# global verbosity setting, can be overridden in config sections
	verbosity = 3

	# Volume of recognizer prompts (0 - 100)
	prompt-volume = 100
	
	
	# speech session salutation preference:
	# if set to 0 the asr salutation of "please say a command after the beep" will play at the beginning of every speech session
	# if set to non-0 the asr salutation will be played only at the activation of the first speech session.
	# from that point on only the beep will sound to indicate the speech system is listening for a command. There will be no session salutation.
	one-time-salutation = 1

	# Results with a confidence less than this threshold are discarded
	# Can be overridden within the recognition sections below
	# range from 0 to 1000
	confidence-threshold = 600

	# Auto-help will play all the active modules' help messages if the user provides unrecognized commands the specified number of times consecutively
	# 0 == disabled, 1 = auto help after the first unrecognized command, 2 = auto help after second consecutive unrecognized command
	auto-help = 0
	app-context = default
	
	# language model hint. The recognition module will use this hint to set recognition context.
    # contact   := match from addressbook
    # free-form := free form speech recognition
    # intent    := general intent recognition
    # search    := optimized for search engines 
    language-model-hint = intent

	help {
		app-to-section-mapping {
			# section help to play first is determined by the "app-context" attribute
			qnx.phone = phone
			qnx.mediaAudioPlayer = mmedia
			qnx.localSearch = bing-local
			default = phone
		}
	}

	unrecognized {
	}

	canceled{
	}

	vlingo-services {
		client-software-name = QNXPASAPrototype
		client-software-version = "1.0"
		device-id   = "9876543210"
		app-id = com.vlingo.client.proto
		protocol-version = "3.0"
		sr {
			vlingo-voice-service-version = "1.0"
			service-url = http://prototype.vlingo.com:80/voicepad/sr
		}
		tts {
			tts-version  = 1.0
			service-url  = http://prototype.vlingo.com:80/tts/tts2
			voice-gender = Male
			audio-format = PCM
			# speech-rate values... [VerySlow|Slow|Normal|Fast|VeryFast]
			speech-rate  = Normal
			priority = 11
		}
	}

	tts {
		install = /usr/tts/nuance/data
		
		voices {
			en-US = Samantha
			pt-BR = Raquel
			en-GB = Serena
			fr-CA = Julie
			zh-CN = Ting Ting
			nl-NL = Claire
			fr-FR = Virginie
			de-DE = Anna
			it-IT = Silvia
			ja-JP = Kyoko
			ko-KR = Narae
			es-MX = Paulina
			nb-NO = Stine
			pl-PL = Agata
			pt-PT = Joana
			ru-RU = Milena
			es-ES = Monica
			zh-TW = Ting Ting			
		}
		
		languages {
			en-US = American English
			pt-BR = Brazilian Portuguese
			en-GB = British English
			fr-CA = Canadian French
			zh-CN = Chinese Mandarin
			nl-NL = Dutch
			fr-FR = French
			de-DE = German
			it-IT = Italian
			ja-JP = Japanese
			ko-KR = Korean
			es-MX = Mexican Spanish
			nb-NO = Norwegian
			pl-PL = Polish
			pt-PT = Portuguese
			ru-RU = Russian
			es-ES = Spanish
			zh-TW = Chinese Mandarin			
		}
	}
	VAD {
		languages {
			zh-CN = ZECN
			de-DE = DEDE
			en-US = ENUS
			en-GB = ENGB
			es-ES = ESES
			es-MX = ESMX
			fr-CA = FRCA
			fr-FR = FRFR
			it-IT = ITIT
			ja-JP = JPJP
			ko-KR = KOKR
			nl-NL = NLNL
			nb-NO = NONO
			pl-PL = PLPL
			pt-PT = PTPT
			pt-BR = PTBR
			ru-RU = RURU
			zh-CN = ZECN
			zh-TW = ZETW
		}	
	}
	audio {
		capture {
			verbosity   =  2
			priority    = 25
			card        = -1
			dev         =  0
			device-name = /dev/snd/pcmpreferred
			#device-name =  voice_abe
			sample-rate =  16000
			sample-size =  16
			volume      =  100
			channels    =  1
			frag-size   =  2048
			# frag should be filled in about 100ms
			wav-header = "enabled"
                        # "disbaled"
			max-utterance-secs = 60
			silence-detection {
				silence-threshold = 90
				min-voice-duration = 0.1
				eos-detection = "enabled"
				#eos-detection = "disabled"
				eos-max-silence-ms = 500
				voice-portion = 0.9
				min-voice-level = 55.0
				bos-detection = "disabled"
				bos-max-silence-ms = 2000
			}
		}
		file {
			# dir all relative paths are resolved from
			audio_root = /var/audio/logs
		}
	}

	load-modules {
	# media and search conversation, capture audio, and vlingo recognition modules are all linked statically
	# as are wav_file, offboard_tts, and visual_interactive
	#	dll = asr-capture-audio.so
	#	dll = asr-ui-prompt.so
	#	dll = asr-step-conversation.so
	#	dll = asr-wav_file-prompt.so
	}


	## Module sections
	module {
		locale-dir = $(conv-dir)/\$(locale)
		prompt-locale-dir = $(prompt-dir)/\$(locale)
		rec-locale-dir = $(rec-dir)/\$(locale)
		punctuation = auto
		common {
			localization-assets {
				$(locale-dir)/common/control.cfg
				$(locale-dir)/common/prompts.cfg
			}
			localized{
			}
		}
		
		initiator {
			localization-assets {
				$(locale-dir)/initiator/prompts.cfg
			}
			localized{
			}
		}
		
		bb10_vlingo {
		    language-intent {
		    	en-US
		    	en-GB
		   		de-DE
		   		es-ES	
		   		fr-FR
		   		it-IT
		   	}
		    language-free-form{
		    	en-US
		    	en-GB
		    	ar-SA
		    	de-DE
		    	es-ES
		    	es-MX
		    	fr-CA
		    	fr-FR
		    	it-IT
		    	ja-JP
		    	ko-KR
		    	nl-NL
		    	pt-BR
		    	pt-PT
		    	ru-RU
		    	zh-CN
		    	zh-TW
		    	tr-TR
		    }
			localization-assets {
				$(rec-locale-dir)/bb10_vlingo/prompts.cfg
			}
			localized{
			}
		}
		
		ui {
			localization-assets {
				$(prompt-locale-dir)/ui/prompt.cfg
			}
			localized{
			}
		}
		
		search {
			language-model-hint = free-form
			// items with paths to resources continue to use language variable.
			help-url = file://$(help-dir)/top_help.tts
			nav-provider = tcs
			localization-assets {
				$(locale-dir)/search/control.cfg
				$(locale-dir)/search/prompts.cfg
			}
			localized {
				# filled with search assets specified by localization-assets above
			}
		}

		messages {
			language-model-hint = intent
			help-url = file://$(help-dir)/messages_help.tts
			
			content {
				language-model-hint = free-form
				help-url = file://$(help-dir)/messages_help.tts
			}
			
			contact {
				language-model-hint = contact
				help-url = file://$(help-dir)/contact_help.tts
			}
			
			localization-assets {
				$(locale-dir)/messages/control.cfg
				$(locale-dir)/messages/prompts.cfg
			}
			localized {
			}
		}
		
		
		bb10_addrbook {
			language-model-hint = intent
			content {
				language-model-hint = free-form
    		}
			localization-assets {
				$(locale-dir)/bb10_addrbook/control.cfg
				$(locale-dir)/bb10_addrbook/prompts.cfg
			}
			localized {
			}
	      }
	
		memo {
		    language-model-hint = intent
		    help-url = file://$(help-dir)/memo_help.tts
		    
			localization-assets {
				$(locale-dir)/memo/control.cfg
				$(locale-dir)/memo/prompts.cfg
			}
			localized {
			}
		}
		
		calendar {
			language-model-hint = free-form
			help-url = file://$(help-dir)/calendar_help.tts
			content {
				language-model-hint = free-form
				help-url = file://$(help-dir)/calendar_help.tts
			}
			contact {
				language-model-hint = contact
				help-url = file://$(help-dir)/calendar_help.tts
			}
			localization-assets {
				$(locale-dir)/calendar/control.cfg
				$(locale-dir)/calendar/prompts.cfg
			}
			localized {
			}
		}
		
		social {
		    language-model-hint = intent
			localization-assets {
				$(locale-dir)/social/control.cfg
				$(locale-dir)/social/prompts.cfg
			}
			localized {
			}
		}
		
		step {
			audio-prompts {
				#start-recognition = file://$(sounds-dir)/beep.wav
				#stop-listening = file://$(sounds-dir)/session_end.wav
				#app-start = file://$(app-sounds)/voice_app_wake_start.wav
				start-recognition = file://$(sounds-dir)/voice_app_start_recognition.wav
				stop-listening = file://$(sounds-dir)/voice_app_stop_listening_start_thinking.wav
				success = file://$(sounds-dir)/voice_app_results_success.wav
				error = file://$(sounds-dir)/voice_app_error.wav
				cancel = file://$(sounds-dir)/voice_app_cancel.wav
			}
			localization-assets {
				$(locale-dir)/step/prompts.cfg
			}
			localized {
			}
		}
		app-service {
			language-model-hint = free-form
			punctuation = off
		}
	}
}

